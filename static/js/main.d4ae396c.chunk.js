(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],[,function(e,t,a){e.exports={card:"Card_card__3ZvbY",card__header:"Card_card__header__1m14n",card__header__changeName:"Card_card__header__changeName__2Wm70",card__body:"Card_card__body__KjpXB","card__body--hidden":"Card_card__body--hidden__fN6c9",card__body__subtask:"Card_card__body__subtask__31-xF",card__body__notask:"Card_card__body__notask__1lrOV",card__shadow:"Card_card__shadow__1aQ-G",subTask:"Card_subTask__2mHCt","subTask--complete":"Card_subTask--complete__CxKVG","subTask--incomplete":"Card_subTask--incomplete__1eque",icon:"Card_icon__1bJlV",littleIcon:"Card_littleIcon__2JYq8",opening:"Card_opening__2Szc5"}},function(e,t,a){e.exports={sideBar:"SideBar_sideBar__3nLg6",sideBar__item:"SideBar_sideBar__item__2Mjrc","sideBar__item--selected":"SideBar_sideBar__item--selected__pdb45",sideBar__add:"SideBar_sideBar__add__160PY","sideBar--close":"SideBar_sideBar--close__muhP8","sideBar--open":"SideBar_sideBar--open__2naUD",icon:"SideBar_icon__2cFoE",littleIcon:"SideBar_littleIcon__3g8dD",yellowBall:"SideBar_yellowBall__yy7iP",changeName:"SideBar_changeName__1h0VJ"}},,,,,,,,,function(e,t,a){e.exports={todoList:"ListCards_todoList__2aQIG",addButton:"ListCards_addButton__3Hb7M",categoryTitle:"ListCards_categoryTitle__3RfAh"}},,,function(e,t,a){e.exports={app:"App_app__276EL"}},function(e,t,a){e.exports={header:"Header_header__QN0__"}},,function(e,t,a){e.exports={showButton:"ShowSideButton_showButton__2Iz6H"}},function(e,t,a){e.exports=a(25)},,,,,function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(13),s=a.n(r),o=(a(23),a(3)),i=a(4),l=a(6),d=a(5),u=(a(24),a(14)),m=a.n(u),_=a(15),g=a.n(_);function h(e){return c.a.createElement("div",{className:g.a.header},"To-Do list app por Federico Reina")}var p=a(7),f=a(9),C=a(1),b=a.n(C),S=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).saveChangesToStorage=function(){n.setState((function(e,t){var a={title:e.title,subtasks:e.subtasks};return localStorage.setItem("Card".concat(n.props.cardId),JSON.stringify(a)),{}}))},n.addSubtask=function(){n.setState((function(e,t){return{subtasks:e.subtasks.concat({text:"Nueva subtarea",completed:!1}),expanded:!0}})),n.saveChangesToStorage()},n.deleteSubtask=function(e){n.setState((function(t,a){return{subtasks:t.subtasks.filter((function(t,a){return a!==e}))}})),n.saveChangesToStorage()},n.handleClick=function(e){console.log({e:e.target.classList});e.target.classList;switch(e.target){case n.state.addButton.current:n.addSubtask();break;case n.state.editButton.current:console.log("aca"),n.setState({renaming:!0});break;case n.state.deleteButton.current:n.props.deleteCard(n.props.cardId);break;case n.state.doneButton.current:n.finishCardRenaming(n.props.cardId)}},n.handleDoubleClick=function(){console.log("double")},n.finishCardRenaming=function(){n.setState({renaming:!1,expanded:!0}),n.saveChangesToStorage()},n.handleChangeTitle=function(e){n.setState({title:e.target.value})},n.handleCompleted=function(e,t){n.setState((function(a,n){var c=Object(f.a)(a.subtasks);return c[e]=Object(p.a)(Object(p.a)({},c[e]),{},{completed:t}),{subtasks:c}})),n.saveChangesToStorage()},n.editSubtask=function(e){n.setState({editingSub:e}),n.saveChangesToStorage()},n.renameSubtask=function(e,t){n.setState((function(a,n){var c=Object(f.a)(a.subtasks);return c[e]=Object(p.a)(Object(p.a)({},c[e]),{},{text:t}),{subtasks:c}}))},n.finishEditSubtask=function(){n.setState({editingSub:-1}),n.saveChangesToStorage()},n.state={expanded:!1,renaming:!1,title:"",subtasks:[],addButton:c.a.createRef(),editButton:c.a.createRef(),deleteButton:c.a.createRef(),doneButton:c.a.createRef(),editingSub:-1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("Card".concat(this.props.cardId))||JSON.stringify({title:"new Card",subtasks:[{text:"Hacer el dise\xf1o UI",completed:!1},{text:"Hacer el dise\xf1o UI",completed:!1},{text:"Hacer el dise\xf1o UI",completed:!1}]});e=JSON.parse(e),console.log(e),this.setState({title:e.title,subtasks:e.subtasks})}},{key:"render",value:function(){var e=this;console.log(this.state.subtasks.map((function(e){return e.completed})));var t=this.state.renaming?c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"text",value:this.state.title,className:b.a.card__header__changeName,onChange:this.handleChangeTitle}),c.a.createElement("i",{ref:this.state.doneButton,className:"material-icons ".concat(b.a.icon)},"done")):c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{style:{fontSize:24}},this.state.title,c.a.createElement("i",{ref:this.state.addButton,className:"material-icons ".concat(b.a.icon)},"add"),c.a.createElement("i",{ref:this.state.editButton,className:"material-icons ".concat(b.a.icon)},"edit"),c.a.createElement("i",{ref:this.state.deleteButton,className:"material-icons ".concat(b.a.icon)},"delete"))),a=this.state.subtasks.map((function(t,a){return c.a.createElement("div",{key:a,className:b.a.card__body__subtask},a!==e.state.editingSub?c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"checkbox",checked:t.completed,onChange:function(t){return e.handleCompleted(a,t.target.checked)},className:"".concat(b.a.subTask," ").concat(t.completed?b.a["subTask--complete"]:b.a["subTask--incomplete"])}),c.a.createElement("span",null,t.text,c.a.createElement("i",{className:"material-icons ".concat(b.a.icon," ").concat(b.a.littleIcon),onClick:function(){return e.editSubtask(a)}},"edit"),c.a.createElement("i",{className:"material-icons ".concat(b.a.icon," ").concat(b.a.littleIcon),onClick:function(){return e.deleteSubtask(a)}},"delete"))):c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"text",value:t.text,onChange:function(t){return e.renameSubtask(a,t.target.value)}}),c.a.createElement("i",{className:"material-icons ".concat(b.a.icon," ").concat(b.a.littleIcon),onClick:function(){return e.finishEditSubtask()}},"done")))}));return 0===this.state.subtasks.length&&(a=c.a.createElement("div",{key:-1,className:"".concat(b.a.card__body__notask),onClick:this.addSubtask},"Ninguna subtarea ha sido a\xf1adida. Haga click aqu\xed o en el bot\xf3n ",c.a.createElement("i",{className:"material-icons ".concat(b.a.littleIcon)},"add")," de arriba para a\xf1adir una subtarea a esta tarea.")),c.a.createElement("div",{className:"".concat(b.a.card)},c.a.createElement("div",{className:b.a.card__header,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick},t),c.a.createElement("div",{className:"".concat(b.a.card__body)},a,c.a.createElement("div",{className:b.a.card__shadow})))}}]),a}(n.Component),k=a(11),v=a.n(k),y=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).addCard=function(){console.log("clicked");var e=localStorage.getItem("nextId")||"1";e=parseInt(e),localStorage.setItem("nextId",e+1),n.setState((function(t,a){var c=t.cards.concat([e]);return localStorage.setItem("Card".concat(e),JSON.stringify({title:"Nueva tarjeta",subtasks:[]})),localStorage.setItem("Category".concat(n.props.selected),JSON.stringify(c)),{cards:c}}))},n.deleteCard=function(e){n.setState((function(t,a){var n=t.cards.filter((function(t){return t!==e}));return localStorage.removeItem("Card".concat(e)),localStorage.setItem("Category".concat(t.selectedCache),JSON.stringify(n)),{cards:n}}))},n.state={cards:[],selectedCache:e.selected,expandedCard:-1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("Category".concat(this.props.selected))||"[]";this.setState({cards:JSON.parse(e)})}},{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:v.a.todoList},this.state.cards.map((function(t,a){return c.a.createElement(S,{cardId:t,key:t,expanded:t===e.state.expandedCard,expandCard:function(t){return e.setState({expandedCard:t})},changeTitle:e.props.changeTitle,onComplete:e.props.onComplete,deleteCard:e.deleteCard})})),-1===this.props.selected?"":c.a.createElement("button",{className:v.a.addButton,onClick:this.addCard},c.a.createElement("i",{className:"material-icons"},"add"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.selected!==t.selectedCache){var a=localStorage.getItem("Category".concat(e.selected))||"[]";return{selectedCache:e.selected,cards:JSON.parse(a)}}return{}}}]),a}(n.Component),N=a(16),B=a(2),E=a.n(B),I=a(17),O=a.n(I),x=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement("button",{className:O.a.showButton,onClick:this.props.onClick},c.a.createElement("i",{className:"material-icons"},"menu"))}}]),a}(n.Component),j=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).newCategory=function(){n.setState((function(e,t){var a=e.categories.concat({name:"Categor\xeda nueva",id:e.newCatId});return localStorage.setItem("Category".concat(e.newCatId),"[]"),{categories:a,newCatId:e.newCatId+1}}))},n.startRename=function(e){n.setState({renaming:e}),n.saveChanges()},n.handleChangeName=function(e,t){n.setState((function(a,n){var c=Object(f.a)(a.categories);return c[e]=Object(p.a)(Object(p.a)({},c[e]),{},{name:t}),{categories:c}}))},n.endRename=function(){n.setState({renaming:-1}),n.saveChanges()},n.saveChanges=function(){n.setState((function(e,t){localStorage.setItem("categories",JSON.stringify(e.categories))}))},n.deleteCategory=function(e){n.setState((function(t,a){return{categories:t.categories.filter((function(t){return t.id!==e}))}})),n.props.onSelected(-1,""),n.saveChanges()},n.handleClick=function(e,t){var a,c="parent",r=Object(N.a)(e.target.classList);try{for(r.s();!(a=r.n()).done;){"material-icons"===a.value&&(c="icon")}}catch(s){r.e(s)}finally{r.f()}"parent"===c&&n.props.onSelected(t.id,t.name)},n.toggleSideBar=function(){n.setState((function(e,t){return{open:!e.open}}))},n.state={categories:[],newCatId:1,renaming:-1,open:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("categories")||JSON.stringify([{name:"Work",id:1},{name:"Study",id:2}]),t=(e=JSON.parse(e)).reduce((function(e,t){return Math.max(e,t.id)}),0)+1;localStorage.setItem("newCatId",t),this.setState({categories:e,newCatId:t}),console.log({iddd:e[0].id}),this.props.onSelected(e[0].id,e[0].name)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"".concat(E.a.sideBar," ").concat(E.a[this.state.open?"sideBar--open":"sideBar--close"])},c.a.createElement(x,{onClick:this.toggleSideBar}),c.a.createElement("span",null,"Categories"),c.a.createElement("i",{className:"material-icons ".concat(E.a.icon," ").concat(E.a.yellowBall),onClick:this.newCategory},"add"),this.state.categories.map((function(t,a){return t.id===e.state.renaming?c.a.createElement("div",{className:"".concat(E.a.sideBar__item," ").concat(e.props.selected===t.id?E.a["sideBar__item--selected"]:"")},c.a.createElement("input",{type:"text",value:t.name,className:E.a.changeName,onChange:function(t){return e.handleChangeName(a,t.target.value)}}),c.a.createElement("i",{className:"material-icons ".concat(E.a.icon),onClick:function(){return e.endRename()}},"done")):c.a.createElement("div",{className:"".concat(E.a.sideBar__item," ").concat(e.props.selected===t.id?E.a["sideBar__item--selected"]:""),onClick:function(a){e.handleClick(a,t)}},t.name,c.a.createElement("i",{className:"material-icons ".concat(E.a.icon),onClick:function(){return e.startRename(t.id)}},"edit"),c.a.createElement("i",{className:"material-icons ".concat(E.a.icon),onClick:function(){return e.deleteCategory(t.id)}},"delete"))})))}}]),a}(n.Component),w=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).changeCategory=function(e,t){n.setState({selected:e,selectedName:t})},n.state={selected:1,selectedName:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("nextId")||1;1==e&&localStorage.setItem("nextId",e)}},{key:"render",value:function(){return c.a.createElement("div",{className:m.a.app},c.a.createElement(h,null),c.a.createElement(j,{onSelected:this.changeCategory,selected:this.state.selected}),c.a.createElement(y,{selected:this.state.selected,selectedName:this.state.selectedName}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[18,1,2]]]);
//# sourceMappingURL=main.d4ae396c.chunk.js.map